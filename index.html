<!DOCTYPE html>
<html>

<head>
  <title>mows</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="myStyle.css">

</head>

<body>
  <div class="imagebg"></div>
  <h1>MQTT ON WEB BROWSER</h1>

  <div class="row">

    <div class="column">
      <div class="form-container">
        <h3>BROKER</h3>
        <form method="post">
          <label for="address">Address:</label>
          <input id="address" type="text" name="address" value="wss://test.mosquitto.org:8081/mqtt">
          <button type="button" class="button-primary" name="btnCon" id="btnConnect">Connect</button>
          <button type="button" class="button-primary" name="btnUnCon" id="btnDConnect">Disconnect</button>
          <label for="status">Status:</label>
          <input id="status" type="text" name="status" required maxlength="50" disabled>
        </form>
      </div>
    </div>

    <div class="column">
      <div class="form-container ">
        <h3>SUBSCRIBE</h3>
        <form method="post">
          <label for="Stopic">Topic:</label>
          <input id="Stopic" type="text" name="Stopic" required>
          <button type="button" class="button-primary" name="btnSub" id="btnSubscribe">Subscribe</button>
          <button type="button" class="button-primary" name="btnUnSub" id="btnUnsubscribe">Unsubscribe</button>
          <a href data-toggle="modal" data-target="#myModal">Subscribed Topics</a>
        </form>
      </div>
    </div>

    <div class="column">
      <div class="form-container">
        <h3>PUBLISH</h3>
        <form method="post" class="form-group">
          <label for="topic">Topic:</label>
          <input id="topic" type="text" name="topic" required>
          <label for="payload">Payload:</label>
          <textarea id="payload" type="text" name="payload"></textarea>
          <button type="button" class="button-primary" id="btnPublish">Publish</button>
          <a href data-toggle="modal" data-target="#myModal2">Published Messages</a>
        </form>
      </div>
    </div>

  </div>

  <div class="table">
    <h2>Messages</h2>
    <table id="tblMessage">
      <thead>
        <tr>
          <th>Topic</th>
          <th>Payload</th>
          <th>Time Stamp</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <br><br>
  <!-- modal -->
  <div class="modal" id="myModal">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title w-100" id="myModalLabel">SUBSCRIBED TOPICS</h4>
        </div>
        <div class="modal-body">
          <table id="tblSubscribe">
            <thead>
              <tr>
                <th>Topic</th>
                <th>Time Stamp</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" id="close1" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!-- second modal-->
  <div class="modal" id="myModal2">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title w-100" id="myModalLabel">PUBLISHED MESSAGES</h4>
        </div>
        <div class="modal-body">
          <table id="tblPublish">
            <thead>
              <tr>
                <th>Topic</th>
                <th>Payload</th>
                <th>Time Stamp</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" id="close2" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"
  integrity="sha256-H9jAz//QLkDOy/nzE9G4aYijQtkLt9FvGmdUTwBk6gs=" crossorigin="anonymous"></script>
<script src="scripts/browserMqtt.js"></script>
<script src="scripts/controller.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>

</html>